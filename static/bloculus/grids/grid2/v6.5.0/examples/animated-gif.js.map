{"version":3,"sources":["webpack:///./animated-gif.js"],"names":["iconFeature","geometry","vectorSource","features","vectorLayer","source","rasterLayer","layer","map","layers","target","document","getElementById","view","center","zoom","gifler","frames","createElement","ctx","frame","getStyle","setStyle","image","img","canvas","imgSize","width","height","opacity","clearRect","drawImage","buffer","x","y","render","on","e","const","pixel","getEventPixel","originalEvent","hit","hasFeatureAtPixel","getTarget","style","cursor"],"mappings":"0FAAA,wFAQMA,EAAc,IAAI,IAAQ,CAC9BC,SAAU,IAAI,IAAM,CAAC,EAAG,MAGpBC,EAAe,IAAI,IAAa,CACpCC,SAAU,CAACH,KAGPI,EAAc,IAAI,IAAY,CAClCC,OAAQH,IAGJI,EAAc,IAAI,IAAU,CAChCD,OAAQ,IAAI,IAAO,CACjBE,MAAO,YAILC,EAAM,IAAI,IAAI,CAClBC,OAAQ,CAACH,EAAaF,GACtBM,OAAQC,SAASC,eAAe,OAChCC,KAAM,IAAI,IAAK,CACbC,OAAQ,CAAC,EAAG,GACZC,KAAM,MAKEC,OADG,kBAEXC,OACFN,SAASO,cAAc,WACvB,SAAUC,EAAKC,GACRpB,EAAYqB,YACfrB,EAAYsB,SACV,IAAI,IAAM,CACRC,MAAO,IAAI,IAAK,CACdC,IAAKL,EAAIM,OACTC,QAAS,CAACN,EAAMO,MAAOP,EAAMQ,QAC7BC,QAAS,QAKjBV,EAAIW,UAAU,EAAG,EAAGV,EAAMO,MAAOP,EAAMQ,QACvCT,EAAIY,UAAUX,EAAMY,OAAQZ,EAAMa,EAAGb,EAAMc,GAC3C1B,EAAI2B,YAEN,GAIF3B,EAAI4B,GAAG,eAAe,SAAUC,GAC9BC,IAAMC,EAAQ/B,EAAIgC,cAAcH,EAAEI,eAC5BC,EAAMlC,EAAImC,kBAAkBJ,GAClC/B,EAAIoC,YAAYC,MAAMC,OAASJ,EAAM,UAAY,Q","file":"animated-gif.js","sourcesContent":["import Feature from '../src/ol/Feature.js';\nimport Map from '../src/ol/Map.js';\nimport Point from '../src/ol/geom/Point.js';\nimport View from '../src/ol/View.js';\nimport {Icon, Style} from '../src/ol/style.js';\nimport {Stamen, Vector as VectorSource} from '../src/ol/source.js';\nimport {Tile as TileLayer, Vector as VectorLayer} from '../src/ol/layer.js';\n\nconst iconFeature = new Feature({\n  geometry: new Point([0, 0]),\n});\n\nconst vectorSource = new VectorSource({\n  features: [iconFeature],\n});\n\nconst vectorLayer = new VectorLayer({\n  source: vectorSource,\n});\n\nconst rasterLayer = new TileLayer({\n  source: new Stamen({\n    layer: 'toner',\n  }),\n});\n\nconst map = new Map({\n  layers: [rasterLayer, vectorLayer],\n  target: document.getElementById('map'),\n  view: new View({\n    center: [0, 0],\n    zoom: 2,\n  }),\n});\n\nconst gifUrl = 'data/globe.gif';\nconst gif = gifler(gifUrl);\ngif.frames(\n  document.createElement('canvas'),\n  function (ctx, frame) {\n    if (!iconFeature.getStyle()) {\n      iconFeature.setStyle(\n        new Style({\n          image: new Icon({\n            img: ctx.canvas,\n            imgSize: [frame.width, frame.height],\n            opacity: 0.8,\n          }),\n        })\n      );\n    }\n    ctx.clearRect(0, 0, frame.width, frame.height);\n    ctx.drawImage(frame.buffer, frame.x, frame.y);\n    map.render();\n  },\n  true\n);\n\n// change mouse cursor when over icon\nmap.on('pointermove', function (e) {\n  const pixel = map.getEventPixel(e.originalEvent);\n  const hit = map.hasFeatureAtPixel(pixel);\n  map.getTarget().style.cursor = hit ? 'pointer' : '';\n});\n"],"sourceRoot":""}