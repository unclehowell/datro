{"version":3,"sources":["webpack:///./layer-swipe.js"],"names":["osm","source","aerial","attributions","url","maxZoom","map","layers","target","view","center","zoom","swipe","document","getElementById","on","event","const","ctx","context","mapSize","getSize","width","value","tl","tr","bl","br","save","beginPath","moveTo","lineTo","closePath","clip","restore","addEventListener","render"],"mappings":"2FAAA,uDAOMA,EAAM,IAAI,IAAU,CACxBC,OAAQ,IAAI,MAQRC,EAAS,IAAI,IAAU,CAC3BD,OAAQ,IAAI,IAAI,CACdE,aALF,4LAMEC,IAAK,iGACLC,QAAS,OAIPC,EAAM,IAAI,IAAI,CAClBC,OAAQ,CAACP,EAAKE,GACdM,OAAQ,MACRC,KAAM,IAAI,IAAK,CACbC,OAAQ,CAAC,EAAG,GACZC,KAAM,MAIJC,EAAQC,SAASC,eAAe,SAEtCZ,EAAOa,GAAG,aAAa,SAAUC,GAC/BC,IAAMC,EAAMF,EAAMG,QACZC,EAAUd,EAAIe,UACdC,EAAQF,EAAQ,IAAMR,EAAMW,MAAQ,KACpCC,EAAK,YAAeR,EAAO,CAACM,EAAO,IACnCG,EAAK,YAAeT,EAAO,CAACI,EAAQ,GAAI,IACxCM,EAAK,YAAeV,EAAO,CAACM,EAAOF,EAAQ,KAC3CO,EAAK,YAAeX,EAAOI,GAEjCF,EAAIU,OACJV,EAAIW,YACJX,EAAIY,OAAON,EAAG,GAAIA,EAAG,IACrBN,EAAIa,OAAOL,EAAG,GAAIA,EAAG,IACrBR,EAAIa,OAAOJ,EAAG,GAAIA,EAAG,IACrBT,EAAIa,OAAON,EAAG,GAAIA,EAAG,IACrBP,EAAIc,YACJd,EAAIe,UAGN/B,EAAOa,GAAG,cAAc,SAAUC,GACpBA,EAAMG,QACde,aAGNtB,EAAMuB,iBACJ,SACA,WACE7B,EAAI8B,YAEN,K","file":"layer-swipe.js","sourcesContent":["import Map from '../src/ol/Map.js';\nimport OSM from '../src/ol/source/OSM.js';\nimport TileLayer from '../src/ol/layer/Tile.js';\nimport View from '../src/ol/View.js';\nimport XYZ from '../src/ol/source/XYZ.js';\nimport {getRenderPixel} from '../src/ol/render.js';\n\nconst osm = new TileLayer({\n  source: new OSM(),\n});\n\nconst key = 'get_your_own_D6rA4zTHduk6KOKTXzGB';\nconst attributions =\n  '<a href=\"https://www.maptiler.com/copyright/\" target=\"_blank\">&copy; MapTiler</a> ' +\n  '<a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>';\n\nconst aerial = new TileLayer({\n  source: new XYZ({\n    attributions: attributions,\n    url: 'https://api.maptiler.com/tiles/satellite/{z}/{x}/{y}.jpg?key=' + key,\n    maxZoom: 20,\n  }),\n});\n\nconst map = new Map({\n  layers: [osm, aerial],\n  target: 'map',\n  view: new View({\n    center: [0, 0],\n    zoom: 2,\n  }),\n});\n\nconst swipe = document.getElementById('swipe');\n\naerial.on('prerender', function (event) {\n  const ctx = event.context;\n  const mapSize = map.getSize();\n  const width = mapSize[0] * (swipe.value / 100);\n  const tl = getRenderPixel(event, [width, 0]);\n  const tr = getRenderPixel(event, [mapSize[0], 0]);\n  const bl = getRenderPixel(event, [width, mapSize[1]]);\n  const br = getRenderPixel(event, mapSize);\n\n  ctx.save();\n  ctx.beginPath();\n  ctx.moveTo(tl[0], tl[1]);\n  ctx.lineTo(bl[0], bl[1]);\n  ctx.lineTo(br[0], br[1]);\n  ctx.lineTo(tr[0], tr[1]);\n  ctx.closePath();\n  ctx.clip();\n});\n\naerial.on('postrender', function (event) {\n  const ctx = event.context;\n  ctx.restore();\n});\n\nswipe.addEventListener(\n  'input',\n  function () {\n    map.render();\n  },\n  false\n);\n"],"sourceRoot":""}