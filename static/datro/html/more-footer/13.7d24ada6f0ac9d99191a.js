(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{MQmT:function(e,t){function n(e){if(window){if(!e){if(window.parent===window||!document.getElementById("boomr-if-as"))return;if(window.BOOMR&&BOOMR.boomerang_frame&&BOOMR.window)try{BOOMR.boomerang_frame.document.domain!==BOOMR.window.document.domain&&(BOOMR.boomerang_frame.document.domain=BOOMR.window.document.domain)}catch(e){BOOMR.isCrossOriginError(e)||BOOMR.addError(e,"BOOMR_check_doc_domain.domainFix")}e=document.domain}if(-1!==e.indexOf(".")){try{return void window.parent.document}catch(t){document.domain=e}try{return void window.parent.document}catch(t){e=e.replace(/^[\w\-]+\./,"")}n(e)}}}var r,i,o;BOOMR_start=(new Date).getTime(),n(),function(e){var t,r,i,o,a,s,d,u,c=e;if(e.parent!==e&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(e=e.parent,o=document.getElementById("boomr-if-as").src),i=e.document,e.BOOMR||(e.BOOMR={}),BOOMR=e.BOOMR,!BOOMR.version){var l;BOOMR.version="1.0.1503308434",BOOMR.window=e,BOOMR.boomerang_frame=c,BOOMR.plugins||(BOOMR.plugins={}),function(){try{void 0!==new e.CustomEvent("CustomEvent")&&(a=function(t,n){return new e.CustomEvent(t,n)})}catch(e){}try{!a&&i.createEvent&&i.createEvent("CustomEvent")&&(a=function(e,t){var n=i.createEvent("CustomEvent");return t=t||{cancelable:!1,bubbles:!1},n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n})}catch(e){}!a&&i.createEventObject&&(a=function(e,t){var n=i.createEventObject();return n.type=n.propertyName=e,n.detail=t.detail,n}),a||(a=function(){})}(),s=function(e,t,n){var r=a(e,{detail:t});function o(){try{i.dispatchEvent?i.dispatchEvent(r):i.fireEvent&&i.fireEvent("onpropertychange",r)}catch(t){BOOMR.debug("Error when dispatching "+e)}}r&&(n?BOOMR.setImmediate(o):o())},void 0!==document.hidden?(d="visibilityState",u="visibilitychange"):void 0!==document.mozHidden?(d="mozVisibilityState",u="mozvisibilitychange"):void 0!==document.msHidden?(d="msVisibilityState",u="msvisibilitychange"):void 0!==document.webkitHidden&&(d="webkitVisibilityState",u="webkitvisibilitychange"),t={beacon_url:"",beacon_type:"AUTO",beacon_auth_key:"Authorization",beacon_auth_token:void 0,site_domain:e.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",autorun:!0,hasSentPageLoadBeacon:!1,r:void 0,r2:void 0,events:{page_ready:[],page_unload:[],before_unload:[],dom_loaded:[],visibility_changed:[],prerender_to_visible:[],before_beacon:[],onbeacon:[],page_load_beacon:[],xhr_load:[],click:[],form_submit:[],onconfig:[],xhr_init:[],spa_init:[],spa_navigation:[],xhr_send:[]},public_events:{before_beacon:"onBeforeBoomerangBeacon",onbeacon:"onBoomerangBeacon",onboomerangloaded:"onBoomerangLoaded"},listenerCallbacks:{},vars:{},varPriority:{"-1":{},1:{}},errors:{},disabled_plugins:{},xb_handler:function(n){return function(r){var i;r||(r=e.event),r.target?i=r.target:r.srcElement&&(i=r.srcElement),3===i.nodeType&&(i=i.parentNode),i&&"OBJECT"===i.nodeName.toUpperCase()&&"application/x-shockwave-flash"===i.type||t.fireEvent(n,i)}},clearEvents:function(){var e;for(e in this.events)this.events.hasOwnProperty(e)&&(this.events[e]=[])},clearListeners:function(){var e;for(e in t.listenerCallbacks)if(t.listenerCallbacks.hasOwnProperty(e))for(;t.listenerCallbacks[e].length;)BOOMR.utils.removeListener(t.listenerCallbacks[e][0].el,e,t.listenerCallbacks[e][0].fn);t.listenerCallbacks={}},fireEvent:function(e,t){var n,r,i,o;if(e=e.toLowerCase(),this.events.hasOwnProperty(e)){for(this.public_events.hasOwnProperty(e)&&s(this.public_events[e],t),i=this.events[e],"before_beacon"!==e&&"onbeacon"!==e&&BOOMR.real_sendBeacon(),o=i.length,n=0;n<o;n++)try{(r=i[n]).fn.call(r.scope,t,r.cb_data)}catch(t){BOOMR.addError(t,"fireEvent."+e+"<"+n+">")}for(n=0;n<o;n++)i[n].once&&(i.splice(n,1),o--,n--)}},spaNavigation:function(){t.onloadfired=!0}},r={t_start:BOOMR_start,url:o,constants:{BEACON_TYPE_SPAS:["spa","spa_hard"],MAX_GET_LENGTH:2e3},utils:{objectToString:function(e,t,n){var r,i=[];if(!e||"object"!=typeof e)return e;if(void 0===t&&(t="\n\t"),n||(n=0),"[object Array]"===Object.prototype.toString.call(e)){for(r=0;r<e.length;r++)n>0&&null!==e[r]&&"object"==typeof e[r]?i.push(this.objectToString(e[r],t+("\n\t"===t?"\t":""),n-1)):"&"===t?i.push(encodeURIComponent(e[r])):i.push(e[r]);t=","}else for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n>0&&null!==e[r]&&"object"==typeof e[r]?i.push(encodeURIComponent(r)+"="+this.objectToString(e[r],t+("\n\t"===t?"\t":""),n-1)):"&"===t?i.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r])):i.push(r+"="+e[r]));return i.join(t)},getCookie:function(e){return e?(e=" "+e+"=",(t=(n=" "+i.cookie+";").indexOf(e))>=0?(t+=e.length,n=n.substring(t,n.indexOf(";",t)).replace(/^"/,"").replace(/"$/,"")):void 0):null;var t,n},setCookie:function(e,n,r){var o,a,s,d,u;if(!e||!t.site_domain)return BOOMR.debug("No cookie name or site domain: "+e+"/"+t.site_domain),!1;if(d=[a=e+'="'+(o=this.objectToString(n,"&"))+'"',"path=/","domain="+t.site_domain],r&&((u=new Date).setTime(u.getTime()+1e3*r),u=u.toGMTString(),d.push("expires="+u)),a.length<500){if(i.cookie=d.join("; "),o===(s=this.getCookie(e)))return!0;BOOMR.warn("Saved cookie value doesn't match what we tried to set:\n"+o+"\n"+s)}else BOOMR.warn("Cookie too long: "+a.length+" "+a);return!1},getSubCookies:function(e){var t,n,r,i,o=!1,a={};if(!e)return null;if("string"!=typeof e)return BOOMR.debug("TypeError: cookie is not a string: "+typeof e),null;for(n=0,r=(t=e.split("&")).length;n<r;n++)(i=t[n].split("="))[0]&&(i.push(""),a[decodeURIComponent(i[0])]=decodeURIComponent(i[1]),o=!0);return o?a:null},removeCookie:function(e){return this.setCookie(e,{},-86400)},cleanupURL:function(e,n){if(!e||"[object Array]"===Object.prototype.toString.call(e))return"";if(t.strip_query_string&&(e=e.replace(/\?.*/,"?qs-redacted")),void 0!==n&&e&&e.length>n){var r=e.indexOf("?");e=-1!==r&&r<n?e.substr(0,r)+"?...":e.substr(0,n-3)+"..."}return e},hashQueryString:function(e,t){return e?e.match?(e.match(/^\/\//)&&(e=location.protocol+e),e.match(/^(https?|file):/)?(t&&(e=e.replace(/#.*/,"")),BOOMR.utils.MD5?e.replace(/\?([^#]*)/,function(e,t){return"?"+(t.length>10?BOOMR.utils.MD5(t):t)}):e):(BOOMR.error("Passed in URL is invalid: "+e),"")):(BOOMR.addError("TypeError: Not a string","hashQueryString",typeof e),""):e},pluginConfig:function(e,t,n,r){var i,o=0;if(!t||!t[n])return!1;for(i=0;i<r.length;i++)void 0!==t[n][r[i]]&&(e[r[i]]=t[n][r[i]],o++);return o>0},arrayFilter:function(e,t){var n=[];if("function"==typeof e.filter)n=e.filter(t);else for(var r,i=-1,o=e.length;++i<o;)t(r=e[i],i,e)&&(n[n.length]=r);return n},addObserver:function(e,t,n,r,i,o){var a={observer:null,timer:null};if(!(BOOMR.window&&BOOMR.window.MutationObserver&&r&&e))return null;function s(e){var t=!1;a.timer&&(clearTimeout(a.timer),a.timer=null),r&&((t=r.call(o,e,i))||(r=null)),!t&&a.observer&&(a.observer.disconnect(),a.observer=null),"number"==typeof t&&t>0&&(a.timer=setTimeout(s,t))}return a.observer=new BOOMR.window.MutationObserver(s),n&&(a.timer=setTimeout(s,a.timeout)),a.observer.observe(e,t),a},addListener:function(e,n,r){e.addEventListener?e.addEventListener(n,r,!1):e.attachEvent&&e.attachEvent("on"+n,r),t.listenerCallbacks[n]=t.listenerCallbacks[n]||[],t.listenerCallbacks[n].push({el:e,fn:r})},removeListener:function(e,n,r){if(e.removeEventListener?e.removeEventListener(n,r,!1):e.detachEvent&&e.detachEvent("on"+n,r),t.listenerCallbacks.hasOwnProperty(n))for(var i=0;i<t.listenerCallbacks[n].length;i++)if(r===t.listenerCallbacks[n][i].fn&&e===t.listenerCallbacks[n][i].el)return void t.listenerCallbacks[n].splice(i,1)},pushVars:function(e,t,n){var r,i,o,a=0;for(r in t)if(t.hasOwnProperty(r))if("[object Array]"===Object.prototype.toString.call(t[r]))for(i=0;i<t[r].length;++i)a+=BOOMR.utils.pushVars(e,t[r][i],r+"["+i+"]");else(o=document.createElement("input")).type="hidden",o.name=n?n+"["+r+"]":r,o.value=void 0===t[r]||null===t[r]?"":t[r],e.appendChild(o),a+=encodeURIComponent(o.name).length+encodeURIComponent(o.value).length+2;return a},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},inArray:function(e,t){var n;if(void 0===e||void 0===t||!t.length)return!1;for(n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},getQueryParamValue:function(e,t){var n,r,i,o;if(!e)return null;for("string"==typeof t?(n=BOOMR.window.document.createElement("a")).href=t:n="object"==typeof t&&"string"==typeof t.search?t:BOOMR.window.location,r=n.search.slice(1).split(/&/),i=0;i<r.length;i++)if(r[i]&&(o=r[i].split("=")).length&&o[0]===e)return decodeURIComponent(o[1].replace(/\+/g," "));return null},generateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},generateId:function(e){return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".substr(0,e||40).replace(/x/g,function(e){return"0"===(e=(Math.random()||.01).toString(36))?"0":e.substr(2,1)})}},init:function(r){var o,a,s=["beacon_url","beacon_type","beacon_auth_key","beacon_auth_token","site_domain","user_ip","strip_query_string","secondary_beacons","autorun","site_domain"];if(n(),r||(r={}),this.pageId||(this.pageId=BOOMR.utils.generateId(8)),r.primary&&t.handlers_attached)return this;for(a in void 0!==r.log&&(this.log=r.log),this.log||(this.log=function(){}),void 0!==r.autorun&&(t.autorun=r.autorun),this.plugins)if(this.plugins.hasOwnProperty(a)){if(r[a]&&r[a].hasOwnProperty("enabled")&&!1===r[a].enabled){t.disabled_plugins[a]=1,"function"==typeof this.plugins[a].disable&&this.plugins[a].disable();continue}if(t.disabled_plugins[a]){if(!r[a]||!r[a].hasOwnProperty("enabled")||!0!==r[a].enabled)continue;"function"==typeof this.plugins[a].enable&&this.plugins[a].enable(),delete t.disabled_plugins[a]}if("function"==typeof this.plugins[a].init)try{this.plugins[a].init(r)}catch(e){BOOMR.addError(e,a+".init")}}for(o=0;o<s.length;o++)void 0!==r[s[o]]&&(t[s[o]]=r[s[o]]);return t.handlers_attached?this:(t.onloadfired||void 0!==r.autorun&&!1===r.autorun||(i.readyState&&"complete"===i.readyState?(BOOMR.loadedLate=!0,this.setImmediate(BOOMR.page_ready_autorun,null,null,BOOMR)):e.onpagehide||null===e.onpagehide?BOOMR.utils.addListener(e,"pageshow",BOOMR.page_ready_autorun):BOOMR.utils.addListener(e,"load",BOOMR.page_ready_autorun)),BOOMR.utils.addListener(e,"DOMContentLoaded",function(){t.fireEvent("dom_loaded")}),BOOMR.fireEvent("onconfig",r),BOOMR.subscribe("onconfig",function(e){e.beacon_url&&(t.beacon_url=e.beacon_url)}),BOOMR.subscribe("spa_navigation",t.spaNavigation,null,t),function(){var n,r;for(void 0!==u&&(BOOMR.utils.addListener(i,u,function(){t.fireEvent("visibility_changed")}),t.lastVisibilityState=BOOMR.visibilityState(),BOOMR.subscribe("visibility_changed",function(){var e=BOOMR.visibilityState();BOOMR.lastVisibilityEvent[e]=BOOMR.now(),BOOMR.debug("Visibility changed from "+t.lastVisibilityState+" to "+e),"prerender"===t.lastVisibilityState&&"prerender"!==e&&(BOOMR.addVar("vis.pre","1"),t.fireEvent("prerender_to_visible")),t.lastVisibilityState=e})),BOOMR.utils.addListener(i,"mouseup",t.xb_handler("click")),n=i.getElementsByTagName("form"),r=0;r<n.length;r++)BOOMR.utils.addListener(n[r],"submit",t.xb_handler("form_submit"));e.onpagehide||null===e.onpagehide||BOOMR.utils.addListener(e,"unload",function(){BOOMR.window=e=null})}(),t.handlers_attached=!0,this)},attach_page_ready:function(t){i.readyState&&"complete"===i.readyState?this.setImmediate(t,null,null,BOOMR):e.onpagehide||null===e.onpagehide?BOOMR.utils.addListener(e,"pageshow",t):BOOMR.utils.addListener(e,"load",t)},page_ready_autorun:function(e){t.autorun&&BOOMR.page_ready(e)},page_ready:function(n){return n||(n=e.event),n||(n={name:"load"}),t.onloadfired?this:(t.fireEvent("page_ready",n),t.onloadfired=!0,this)},onloadFired:function(){return t.onloadfired},setImmediate:function(t,n,r,i){var o,a;"undefined"!=typeof Error&&(a=(a=new Error).stack?a.stack.replace(/^Error/,"Called"):void 0),o=function(){t.call(i||null,n,r||{},a),o=null},e.requestIdleCallback?e.requestIdleCallback(o):e.setImmediate?e.setImmediate(o):setTimeout(o,10)},now:Date.now||function(){return(new Date).getTime()},getPerformance:function(){try{if(BOOMR.window)return"performance"in BOOMR.window&&BOOMR.window.performance?BOOMR.window.performance:BOOMR.window.msPerformance||BOOMR.window.webkitPerformance||BOOMR.window.mozPerformance}catch(e){}},visibilityState:void 0===d?function(){return"visible"}:function(){return i[d]},lastVisibilityEvent:{},registerEvent:function(e){return t.events.hasOwnProperty(e)?this:(t.events[e]=[],this)},disable:function(){t.clearEvents(),t.clearListeners()},fireEvent:function(e,n){return t.fireEvent(e,n)},subscribe:function(n,r,i,o,a){var s,d,u,c,l;for(n=n.toLowerCase(),t.events.hasOwnProperty(n)||(t.events[n]=[]),u=t.events[n],s=0;s<u.length;s++)if((d=u[s])&&d.fn===r&&d.cb_data===i&&d.scope===o)return this;return u.push({fn:r,cb_data:i||{},scope:o||null,once:a||!1}),"page_ready"===n&&t.onloadfired&&t.autorun&&this.setImmediate(r,null,i,o),"page_unload"!==n&&"before_unload"!==n||(l=u.length,c=function(a){r&&r.call(o,a||e.event,i),"page_unload"===n&&l===t.events[n].length&&BOOMR.real_sendBeacon()},"page_unload"===n&&(e.onpagehide||null===e.onpagehide?BOOMR.utils.addListener(e,"pagehide",c):BOOMR.utils.addListener(e,"unload",c)),BOOMR.utils.addListener(e,"beforeunload",c)),this},addError:function(e,n,r){var i,o=BOOMR.plugins.Errors;o&&o.is_supported()?"string"==typeof e?o.send({message:e,extra:r,functionName:n,noStack:!0},o.VIA_APP,o.SOURCE_BOOMERANG):("string"==typeof n&&(e.functionName=n),void 0!==r&&(e.extra=r),o.send(e,o.VIA_APP,o.SOURCE_BOOMERANG)):("string"!=typeof e&&((i=String(e)).match(/^\[object/)&&(i=e.name+": "+(e.description||e.message).replace(/\r\n$/,"")),e=i),void 0!==n&&(e="["+n+":"+BOOMR.now()+"] "+e),r&&(e+=":: "+r),t.errors[e]?t.errors[e]++:t.errors[e]=1)},isCrossOriginError:function(e){return"SecurityError"===e.name||"TypeError"===e.name&&"Permission denied"===e.message||"Error"===e.name&&e.message&&e.message.match(/^(Permission|Access is) denied/)},addVar:function(e,n){if("string"==typeof e)t.vars[e]=n;else if("object"==typeof e){var r,i=e;for(r in i)i.hasOwnProperty(r)&&(t.vars[r]=i[r])}return this},removeVar:function(e){var n,r;if(!arguments.length)return this;for(r=1===arguments.length&&"[object Array]"===Object.prototype.toString.apply(e)?e:arguments,n=0;n<r.length;n++)t.vars.hasOwnProperty(r[n])&&delete t.vars[r[n]];return this},hasVar:function(e){return t.vars.hasOwnProperty(e)},setVarPriority:function(e,n){return"number"!=typeof n||1!==Math.abs(n)?this:(t.varPriority[n][e]=1,this)},setReferrer:function(e,n){t.r=e,t.r2=n&&e!==n?n:void 0},requestStart:function(e){var t=BOOMR.now();return BOOMR.plugins.RT.startTimer("xhr_"+e,t),{loaded:function(n){BOOMR.responseEnd(e,t,n)}}},readyToSend:function(){var e;for(e in this.plugins)if(this.plugins.hasOwnProperty(e)){if(t.disabled_plugins[e])continue;if("function"==typeof this.plugins[e].readyToSend&&!1===this.plugins[e].readyToSend())return BOOMR.debug("Plugin "+e+" is not ready to send"),!1}return!0},responseEnd:function(e,n,r,i){if(n="number"==typeof n?n:BOOMR.now(),i="number"==typeof i?i:BOOMR.now(),!BOOMR.readyToSend())return BOOMR.debug("Attempted to call responseEnd before all plugins were Ready to Send, trying again..."),void setTimeout(function(){BOOMR.responseEnd(e,n,r,i)},1e3);if(BOOMR.hasSentPageLoadBeacon()||BOOMR.utils.inArray(e.initiator,BOOMR.constants.BEACON_TYPE_SPAS))if("object"==typeof e){if(!e.url)return void BOOMR.debug("BOOMR.responseEnd: First argument must have a url property if it's an object");t.fireEvent("xhr_load",e)}else BOOMR.real_sendBeacon(),BOOMR.addVar("xhr.pg",e),BOOMR.plugins.RT.startTimer("xhr_"+e,n),t.fireEvent("xhr_load",{name:"xhr_"+e,data:r,timing:{loadEventEnd:i}});else BOOMR.subscribe("page_load_beacon",function(){BOOMR.responseEnd(e,n,r,i)},null,BOOMR,!0)},uninstrumentXHR:function(){},instrumentXHR:function(){},sendBeacon:function(e){return e&&(t.beacon_url_override=e),t.beaconQueued||(t.beaconQueued=!0,BOOMR.setImmediate(BOOMR.real_sendBeacon,null,null,BOOMR)),!0},real_sendBeacon:function(){var n,r,o,a,s,d,u=[],c=[],l=1,O={},p={},f=[];if(!t.beaconQueued)return!1;for(n in t.beaconQueued=!1,BOOMR.debug("Checking if we can send beacon"),this.plugins)if(this.plugins.hasOwnProperty(n)){if(t.disabled_plugins[n])continue;if(!this.plugins[n].is_complete())return BOOMR.debug("Plugin "+n+" is not complete, deferring beacon send"),!1}if(!(window&&window.Image&&window.navigator&&BOOMR.window))return BOOMR.debug("DOM not fully available, not sending a beacon"),!1;var g=BOOMR.utils.inArray(t.vars["http.initiator"],BOOMR.constants.BEACON_TYPE_SPAS),h=void 0===t.vars["http.initiator"]||g,m=g?i.URL:i.URL.replace(/#.*/,"");for(n in t.vars.pgu=BOOMR.utils.cleanupURL(m),t.vars.u&&!g||(t.vars.u=t.vars.pgu),t.vars.pgu===t.vars.u&&delete t.vars.pgu,t.r?t.vars.r=BOOMR.utils.cleanupURL(t.r):delete t.vars.r,t.r2?t.vars.r2=BOOMR.utils.cleanupURL(t.r2):delete t.vars.r2,t.vars.v=BOOMR.version,BOOMR.visibilityState()&&(t.vars["vis.st"]=BOOMR.visibilityState(),BOOMR.lastVisibilityEvent.visible&&(t.vars["vis.lv"]=BOOMR.now()-BOOMR.lastVisibilityEvent.visible),BOOMR.lastVisibilityEvent.hidden&&(t.vars["vis.lh"]=BOOMR.now()-BOOMR.lastVisibilityEvent.hidden)),t.vars["ua.plt"]=navigator.platform,t.vars["ua.vnd"]=navigator.vendor,this.pageId&&(t.vars.pid=this.pageId),e!==window&&(t.vars.if=""),t.errors)t.errors.hasOwnProperty(n)&&u.push(n+(t.errors[n]>1?" (*"+t.errors[n]+")":""));if(u.length>0&&(t.vars.errors=u.join("\n")),t.errors={},t.fireEvent("before_beacon",t.vars),t.beacon_url=t.beacon_url_override||t.beacon_url,BOOMR.debug("Ready to send beacon: "+BOOMR.utils.objectToString(t.vars)),!t.beacon_url)return BOOMR.debug("No beacon URL, so skipping."),!0;for(n in t.vars)t.vars.hasOwnProperty(n)&&(O[n]=t.vars[n],p[n]=t.vars[n]);if(f=this.getVarsOfPriority(p,-1),s=this.getVarsOfPriority(p,1),a=(c=f.concat(this.getVarsOfPriority(p,0),s)).join("&"),r=t.beacon_url+(t.beacon_url.indexOf("?")>-1?"&":"?")+a,("POST"===t.beacon_type||r.length>BOOMR.constants.MAX_GET_LENGTH)&&(l=!1),BOOMR.removeVar("qt"),t.fireEvent("onbeacon",O),!t.hasSentPageLoadBeacon&&h&&(t.hasSentPageLoadBeacon=!0,BOOMR.setImmediate(function(){t.fireEvent("page_load_beacon",O)})),0===c.length)return this;if(BOOMR.orig_XMLHttpRequest||BOOMR.window&&BOOMR.window.XMLHttpRequest||(l=!0),l){try{o=new Image}catch(e){return BOOMR.debug("Image is not a constructor, not sending a beacon"),!1}if(o.src=r,t.secondary_beacons)for(n=0;n<t.secondary_beacons.length;n++)r=t.secondary_beacons[n]+"?"+a,(o=new Image).src=r}else{d=new(BOOMR.window.orig_XMLHttpRequest||BOOMR.orig_XMLHttpRequest||BOOMR.window.XMLHttpRequest);try{this.sendXhrPostBeacon(d,a)}catch(e){d=new BOOMR.boomerang_frame.XMLHttpRequest,this.sendXhrPostBeacon(d,a)}}return!0},hasSentPageLoadBeacon:function(){return t.hasSentPageLoadBeacon},sendXhrPostBeacon:function(e,n){e.open("POST",t.beacon_url),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),void 0!==t.beacon_auth_token&&(void 0===t.beacon_auth_key&&(t.beacon_auth_key="Authorization"),e.setRequestHeader(t.beacon_auth_key,t.beacon_auth_token)),e.send(n)},getVarsOfPriority:function(e,n){var r,i=[];if(0!==n)for(r in t.varPriority[n])t.varPriority[n].hasOwnProperty(r)&&e.hasOwnProperty(r)&&(i.push(this.getUriEncodedVar(r,e[r])),delete e[r]);else for(r in e)e.hasOwnProperty(r)&&i.push(this.getUriEncodedVar(r,e[r]));return i},getUriEncodedVar:function(e,t){return encodeURIComponent(e)+"="+(void 0===t||null===t?"":encodeURIComponent(t))},getResourceTiming:function(e,t){var n;try{if(BOOMR.getPerformance()&&"function"==typeof BOOMR.getPerformance().getEntriesByName&&(n=BOOMR.getPerformance().getEntriesByName(e))&&n.length)return"function"==typeof t&&n.sort(t),n[n.length-1]}catch(e){}}},delete BOOMR_start,"number"==typeof BOOMR_lstart?(r.t_lstart=BOOMR_lstart,delete BOOMR_lstart):"number"==typeof BOOMR.window.BOOMR_lstart&&(r.t_lstart=BOOMR.window.BOOMR_lstart),"number"==typeof BOOMR.window.BOOMR_onload&&(r.t_onload=BOOMR.window.BOOMR_onload),"object"==typeof console&&void 0!==console.log&&(r.log=function(e,t,n){console.log(n+": ["+t+"] "+e)}),l=function(e){return function(t,n){return this.log(t,e,"boomerang"+(n?"."+n:"")),this}},r.debug=l("debug"),r.info=l("info"),r.warn=l("warn"),r.error=l("error");try{var O=r.getPerformance();O&&"function"==typeof O.now&&/\[native code\]/.test(String(O.now))&&O.timing&&O.timing.navigationStart&&(r.now=function(){return Math.round(O.now()+O.timing.navigationStart)})}catch(e){}!function(){var e;for(e in r)r.hasOwnProperty(e)&&(BOOMR[e]=r[e]);BOOMR.xhr_excludes||(BOOMR.xhr_excludes={})}(),s("onBoomerangLoaded",{BOOMR:BOOMR},!0)}}(window),function(){var e,t,n,r,i,o=!1,a=!1,s=!1,d=["uninitialized","open","responseStart","domInteractive","responseEnd"],u=-1001,c=-999,l=-998,O=-997;function p(e){if(!e)return null;e.href=e.href;var t=e.pathname;return"/"!==t.charAt(0)&&(t="/"+t),t}function f(e){return!(!e.href||!e.href.match(/^(about:|javascript:|data:)/i))||(BOOMR.xhr_excludes.hasOwnProperty(e.href)||BOOMR.xhr_excludes.hasOwnProperty(e.hostname)||BOOMR.xhr_excludes.hasOwnProperty(p(e)))}function g(){this.watch=0,this.timer=null,this.pending_events=[]}function h(){if(!BOOMR.proxy_XMLHttpRequest||BOOMR.proxy_XMLHttpRequest!==BOOMR.window.XMLHttpRequest){if(BOOMR.proxy_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest===BOOMR.window.XMLHttpRequest)return BOOMR.window.XMLHttpRequest=BOOMR.proxy_XMLHttpRequest,void g.start();BOOMR.orig_XMLHttpRequest=BOOMR.window.orig_XMLHttpRequest||BOOMR.window.XMLHttpRequest,g.start(),BOOMR.subscribe("click",function(){if(!o){var e={timing:{},initiator:"click"};BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==BOOMR.window.XMLHttpRequest&&(e.timing.requestStart=BOOMR.now(),t.addEvent(e))}}),BOOMR.proxy_XMLHttpRequest=function(){var e,p,f,h={timing:{},initiator:"xhr"},m=!1;return e=new BOOMR.orig_XMLHttpRequest,p=e.open,f=e.send,e.open=function(f,R,v){if(n.href=R,r.excludeFilter(n))return BOOMR.debug("Exclude found for resource: "+n.href+" Skipping instrumentation!","AutoXHR"),p.apply(e,arguments);function B(){var e,n,r,i,d=!1,u=BOOMR.now();h.timing.loadEventEnd||(h.status&&BOOMR.fireEvent("onxhrerror",h),h.timing.loadEventEnd=u,(e=BOOMR.getResourceTiming(h.url,function(e,t){return e.responseEnd-t.responseEnd}))&&(n=BOOMR.getPerformance().timing.navigationStart,h.timing.loadEventEnd=BOOMR.now(),r=Math.floor(n+e.startTime),h.timing.requestStart-r>=2?d=!1:(0!==e.responseEnd&&(i=Math.floor(n+e.responseEnd))<=h.timing.loadEventEnd&&(h.timing.responseEnd=i,d=!0,h.restiming=e),d&&(h.timing.requestStart=r,h.timing.fetchStart=r,0!==e.responseStart&&(h.timing.responseStart=Math.floor(n+e.responseStart))))),h.index>-1?t.load_finished(h.index,h.timing.responseEnd):s?t.sendResource(h):o&&!a||t.addEvent(h))}function _(t,n){e.addEventListener(t,function(){if("readystatechange"===t){if(h.timing[d[e.readyState]]=BOOMR.now(),r.ie1011fix&&i&&4===e.readyState){g.pause();e.responseXML;g.resume()}4===e.readyState&&0!==e.status&&((e.status<200||e.status>=400)&&(h.status=e.status),h.response={text:""===e.responseType||"text"===e.responseType?e.responseText:null,xml:""===e.responseType||"document"===e.responseType?e.responseXML:null,raw:e.response,json:e.responseJSON},B())}else h.status=void 0===n?e.status:n,B()},!1)}void 0===v&&(v=!0),BOOMR.fireEvent("xhr_init","xhr"),m||(o&&t.watch&&!s&&t.add_event_resource(h),v&&_("readystatechange"),_("load"),_("timeout",u),_("error",l),_("abort",c)),h.url=n.href,h.method=f,delete h.status,v||(h.synchronous=!0),m=!0;try{return p.apply(e,arguments)}catch(e){h.status=O,B()}},e.send=function(t){if(e.resource.requestPayload=t,BOOMR.fireEvent("xhr_send",e),h.timing.requestStart=BOOMR.now(),void 0===h.status||h.status!==O)return f.apply(e,arguments)},e.resource=h,e},BOOMR.proxy_XMLHttpRequest.UNSENT=0,BOOMR.proxy_XMLHttpRequest.OPENED=1,BOOMR.proxy_XMLHttpRequest.HEADERS_RECEIVED=2,BOOMR.proxy_XMLHttpRequest.LOADING=3,BOOMR.proxy_XMLHttpRequest.DONE=4,BOOMR.proxy_XMLHttpRequest.prototype=BOOMR.orig_XMLHttpRequest.prototype,BOOMR.window.XMLHttpRequest=BOOMR.proxy_XMLHttpRequest}}function m(){BOOMR.orig_XMLHttpRequest&&BOOMR.orig_XMLHttpRequest!==BOOMR.window.XMLHttpRequest&&(BOOMR.window.XMLHttpRequest=BOOMR.orig_XMLHttpRequest)}function R(e){e.initiator="xhr",BOOMR.responseEnd(e)}window.XMLHttpRequest&&(new XMLHttpRequest).addEventListener&&(i=window.navigator&&navigator.appVersion&&-1!==navigator.appVersion.indexOf("MSIE 10")||window.navigator&&navigator.userAgent&&navigator.userAgent.match(/Trident.*rv[ :]*11\./),BOOMR=window.BOOMR||{},BOOMR.plugins.AutoXHR||(g.stop=function(){g.pause(),g.observer=null},g.pause=function(){g.observer&&g.observer.observer&&!g.isPaused&&(g.isPaused=!0,g.observer.observer.disconnect())},g.resume=function(){g.observer&&g.observer.observer&&g.isPaused&&(g.isPaused=!1,g.observer.observer.observe(e,g.observer.config))},g.start=function(){if(!g.observer){var n={childList:!0,attributes:!0,subtree:!0,attributeFilter:["src","href"]};g.observer=BOOMR.utils.addObserver(e,n,null,t.mutation_cb,null,t),g.observer&&(g.observer.config=n,BOOMR.subscribe("page_unload",g.stop,null,g))}},g.prototype.addEvent=function(e){var t,n,r={type:e.initiator,resource:e,nodes_to_wait:0,resources:[],complete:!1},i=this.pending_events.length;for(t=i-1;t>=0;t--)if(this.pending_events[t]&&!this.pending_events[t].complete){n=this.pending_events[t];break}if(n)if("click"===n.type){if(0===n.nodes_to_wait||!n.resource.url)return this.pending_events[t]=void 0,null}else if("xhr"===n.type){if("click"===r.type)return null}else if(BOOMR.utils.inArray(n.type,BOOMR.constants.BEACON_TYPE_SPAS)&&"xhr"===r.type)return null;return this.watch++,this.pending_events.push(r),g.observer?(BOOMR.utils.inArray(r.type,BOOMR.constants.BEACON_TYPE_SPAS)?this.setTimeout(1e3,i):this.setTimeout(50,i),i):BOOMR.utils.inArray(r.type,BOOMR.constants.BEACON_TYPE_SPAS)?(g.start(),this.setTimeout(1e3,i),i):(e.url&&e.timing.loadEventEnd&&this.sendEvent(i),null)},g.prototype.sendEvent=function(e){var t=this.pending_events[e],n=this;t&&!t.complete&&(this.clearTimeout(),BOOMR.readyToSend()?(t.complete=!0,this.watch--,t.resource.resources=t.resources,BOOMR.utils.inArray(t.type,BOOMR.constants.BEACON_TYPE_SPAS)&&0===t.resources.length&&(t.resource.timing.loadEventEnd=BOOMR.now()-1e3),this.sendResource(t.resource,e)):setTimeout(function(){n.sendEvent(e)},500))},g.prototype.sendResource=function(t,n){var r=this,i=t.timing?t.timing.requestStart:void 0,o=function(e){if(e&&(t.timing.loadEventEnd=BOOMR.now()),BOOMR.real_sendBeacon(),t.onComplete&&t.onComplete(t),BOOMR.plugins.ResourceTiming&&BOOMR.plugins.ResourceTiming.is_supported()&&t.timing&&t.timing.requestStart){var o=BOOMR.plugins.ResourceTiming.getCompressedResourceTiming(t.timing.requestStart,t.timing.loadEventEnd);BOOMR.addVar({restiming:JSON.stringify(o.restiming)})}BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)&&r.calculateSpaTimings(t),BOOMR.responseEnd(t,i,t),n&&(r.pending_events[n]=void 0)};if(t.wait)t.waitComplete=function(){o(!0)};else{if(BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)&&e&&e.readyState&&"complete"!==e.readyState)return void BOOMR.window.addEventListener("load",function(){o(!0)});o(!1)}},g.prototype.calculateSpaTimings=function(e){var t=BOOMR.getPerformance();if(t&&t.timing)if("spa_hard"===e.initiator)e.timing.responseEnd=t.timing.responseStart,e.timing.fetchStart=t.timing.navigationStart;else{if(!BOOMR.plugins.ResourceTiming)return;var n=BOOMR.plugins.ResourceTiming.getFilteredResourceTiming(e.timing.requestStart,e.timing.loadEventEnd,r.spaBackEndResources),i=Math.round(e.timing.loadEventEnd-e.timing.requestStart);if(!n||!n.length)return void(BOOMR.plugins.ResourceTiming.is_supported()&&(e.timers={t_resp:0,t_page:i,t_done:i}));for(var o=e.timing.loadEventEnd-t.timing.navigationStart,a=0;a<n.length;a++)n[a].responseStart>o?(n[a].responseStart=o,n[a].responseEnd=o):n[a].responseEnd>o&&(n[a].responseEnd=o);var s=Math.round(BOOMR.plugins.ResourceTiming.calculateResourceTimingUnion(n)),d=i-s;if(s<0||i<0||d<0)return void BOOMR.addError("Incorrect SPA time calculation");e.timers={t_resp:s,t_page:d,t_done:i}}},g.prototype.setTimeout=function(e,t){var n=this;e&&(this.clearTimeout(),this.timer=setTimeout(function(){n.timedout(t)},e))},g.prototype.timedout=function(e){var t;this.clearTimeout(),(t=this.pending_events[e])&&BOOMR.utils.inArray(t.type,BOOMR.constants.BEACON_TYPE_SPAS.concat("xhr"))?0===t.nodes_to_wait&&this.sendEvent(e):(this.watch>0&&this.watch--,this.pending_events[e]=void 0)},g.prototype.clearTimeout=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},g.prototype.load_cb=function(e,t){var n,r,i=BOOMR.now();(n=e.target||e.srcElement)&&n._bmr&&(r=n._bmr.idx,t=void 0!==t?t:n._bmr.res||0,n._bmr.end[t]||(n._bmr.end[t]=i,this.load_finished(r,i)))},g.prototype.load_finished=function(e,t){var n=this.pending_events[e];n&&(n.nodes_to_wait--,0===n.nodes_to_wait&&(n.resource.timing.loadEventEnd=t||BOOMR.now(),BOOMR.utils.inArray(n.type,BOOMR.constants.BEACON_TYPE_SPAS)?this.setTimeout(1e3,e):this.sendEvent(e)))},g.prototype.wait_for_node=function(e,t){var i,a,s,d,u,c,l=this,O=!1,p=!1;if(e.nodeName.toUpperCase().match(/^(IMG|SCRIPT|IFRAME|IMAGE)$/)||"LINK"===e.nodeName&&e.rel&&e.rel.match(/\<stylesheet\>/i)){if(e._bmr&&e._bmr.res&&e._bmr.end[e._bmr.res]&&(p=!0),u=e.src||e.getAttribute("xlink:href")||e.href,"IMG"===e.nodeName){if(e.naturalWidth&&!p)return!1;if(""===e.getAttribute("src"))return!1}if(!u||u.match(/^(about:|javascript:|data:)/i))return!1;if(!(i=this.pending_events[t]))return!1;if(c=i.resources.length,e._bmr||(e._bmr={end:{}}),i.urls||(i.urls={}),i.urls[u])return!1;if("SCRIPT"===e.nodeName&&o)return!1;if(!i.resource.url){if(n.href=u,r.excludeFilter(n))return BOOMR.debug("Exclude for "+n.href+" matched. Excluding","AutoXHR"),!1;i.resource.url=n.href}e._bmr.res=c,e._bmr.idx=t,e.addEventListener("load",function(e){l.load_cb(e,c)}),e.addEventListener("error",function(e){l.load_cb(e,c)}),i.nodes_to_wait++,i.resources.push(e),i.urls[u]=1,O=!0}else e.nodeType===Node.ELEMENT_NODE&&["IMAGE","IMG"].forEach(function(n){if((a=e.getElementsByTagName(n))&&a.length)for(s=0,d=a.length;s<d;s++)O|=this.wait_for_node(a[s],t)},this);return O},g.prototype.add_event_resource=function(e){var t,n=this.pending_events.length-1;return n<0?-1:(t=this.pending_events[n])&&e?(t.nodes_to_wait++,e.index=n,n):-1},g.prototype.mutation_cb=function(e){var t,n,r;return!this.watch||(t=this,(n=this.pending_events.length-1)<0||!this.pending_events[n]||(void 0===(r=this.pending_events[n]).interesting&&(r.interesting=!1),e&&e.length&&(r.resource.timing.domComplete=BOOMR.now(),e.forEach(function(e){var i,o,a;if("attributes"===e.type)r.interesting|=t.wait_for_node(e.target,n);else if("childList"===e.type){for(o=e.addedNodes.length,i=0;i<o;i++)r.interesting|=t.wait_for_node(e.addedNodes[i],n);for(o=e.removedNodes.length,i=0;i<o;i++)"IFRAME"===(a=e.removedNodes[i]).nodeName&&a._bmr&&t.load_cb({target:a,type:"removed"})}})),r.interesting||this.setTimeout(1e3,n),!0))},g.prototype.queue_is_empty=function(){if(0===this.pending_events.length)return!0;var e=this.pending_events.length-1;return!this.pending_events[e]||0===this.pending_events[e].nodes_to_wait},t=new g,r={spaBackEndResources:["xmlhttprequest","script"],ie1011fix:!0,excludeFilters:[],initialized:!1,excludeFilter:function(e){var t,n,i;if(!e||!e.href)return!1;for(t=0;t<r.excludeFilters.length;t++)if("function"==typeof r.excludeFilters[t].cb){n=r.excludeFilters[t].ctx,r.excludeFilters[t].name&&(i="Running filter: "+r.excludeFilters[t].name+" on URL: "+e.href,BOOMR.debug(i,"AutoXHR"));try{if(r.excludeFilters[t].cb.call(n,e))return BOOMR.debug("Found matching filter at: "+r.excludeFilters[t].name+" for URL: "+e.href,"AutoXHR"),!0}catch(e){BOOMR.addError(e,"BOOMR.plugins.AutoXHR.impl.excludeFilter()")}}return!1}},BOOMR.plugins.AutoXHR={is_complete:function(){return!0},init:function(t){var i,d;if(BOOMR.window&&BOOMR.window.document){if(e=BOOMR.window.document,n=BOOMR.window.document.createElement("A"),BOOMR.utils.pluginConfig(r,t,"AutoXHR",["spaBackEndResources","ie1011fix"]),BOOMR.instrumentXHR=h,BOOMR.uninstrumentXHR=m,r.initialized||(this.addExcludeFilter(f,null,"shouldExcludeXhr"),r.initialized=!0),t&&t.AutoXHR&&t.AutoXHR.excludeFilters&&t.AutoXHR.excludeFilters.length>0)for(d=0;d<t.AutoXHR.excludeFilters.length;d++)r.excludeFilters.push(t.AutoXHR.excludeFilters[d]);if(a=t.instrument_xhr,BOOMR.plugins.SPA&&BOOMR.plugins.SPA.supported_frameworks){var u=BOOMR.plugins.SPA.supported_frameworks();for(i=0;i<u.length;i++){var c=u[i];if(t[c]&&t[c].enabled){o=!0;break}}}if((s=t.AutoXHR&&t.AutoXHR.alwaysSendXhr)&&a&&BOOMR.xhr&&"function"==typeof BOOMR.xhr.stop){function l(e){if(e.length)for(i=0;i<e.length;i++)R(e[i]);else R(e)}var O=BOOMR.xhr.stop(l);O&&O.length&&BOOMR.setImmediate(l,O)}o?(s||(a=!1),a&&BOOMR.instrumentXHR()):a?BOOMR.instrumentXHR():!1===a&&BOOMR.uninstrumentXHR(),BOOMR.registerEvent("onxhrerror")}},getMutationHandler:function(){return t},getPathname:p,enableAutoXhr:function(){a||BOOMR.instrumentXHR(),a=!0},addExcludeFilter:function(e,t,n){r.excludeFilters.push({cb:e,ctx:t,name:n})}}))}(),function(){var e,t=!1,n=!1,r=!1,i="",o=!1,a=!0,s=!1,d=!1,u=[],c=!1;if(!BOOMR.plugins.SPA){var l=function(e){c=!1;var t,n,r=BOOMR.getPerformance();r&&r.timing&&r.timing.navigationStart&&r.timing.loadEventStart?(t=r.timing.navigationStart,n=r.timing.loadEventStart):t=BOOMR.t_start,BOOMR.addVar("spa.missed","1"),BOOMR.plugins.RT.clearTimer("t_done"),e.timing.requestStart=t,0===e.resources.length&&n&&(e.timing.loadEventEnd=n)};BOOMR.plugins.SPA={is_complete:function(){return!c},init:function(e){e&&e.instrument_xhr&&(o=e.instrument_xhr,n&&o&&BOOMR.plugins.AutoXHR.enableAutoXhr())},register:function(e){u.push(e)},supported_frameworks:function(){return u},onLoadSpaHardMissed:function(){n||(r=!0,o&&BOOMR.plugins.AutoXHR.enableAutoXhr(),c=!0,BOOMR.plugins.SPA.route_change(l))},hook:function(e,n){return n=n||{},t?this:(e&&BOOMR.attach_page_ready(this.onLoadSpaHardMissed),"function"==typeof n.routeFilter&&(s=n.routeFilter),"function"==typeof n.routeChangeWaitFilter&&(d=n.routeChangeWaitFilter),t=!0,this)},route_change:function(t){if(s)try{if(!s.apply(null,arguments))return}catch(e){BOOMR.addError(e,"SPA.route_change.routeFilter")}n=!0;var u=r?BOOMR.now():BOOMR.plugins.RT.navigationStart(),c=i||BOOMR.window.document.URL,l={timing:{requestStart:u},initiator:a?"spa_hard":"spa",url:c};if(a=!1,r&&"function"!=typeof t||(l.onComplete=function(e){r||(r=!0,BOOMR.fireEvent("spa_navigation")),"function"==typeof t&&t(e)}),d)try{d.apply(null,arguments)&&(l.wait=!0,e=l)}catch(e){BOOMR.addError(e,"SPA.route_change.routeChangeWaitFilter")}l.index=BOOMR.plugins.AutoXHR.getMutationHandler().addEvent(l),o&&BOOMR.plugins.AutoXHR.enableAutoXhr()},last_location:function(e){i=e},current_spa_nav:function(){return r?"spa":"spa_hard"},wait_complete:function(){e&&(e.wait=!1,e.waitComplete&&e.waitComplete(),e=null)}}}}(BOOMR.window),function(){var e={auto:!1,enabled:!0,hooked:!1,routeHooked:!1,hadMissedRouteChange:!1,routeChangeInProgress:!1};function t(e){BOOMR.debug(e,"History")}function n(){e.enabled?e.routeChangeInProgress?t("routeChangeInProgress, not triggering"):(t("routeChange triggered, sending route_change() event"),e.routeChangeInProgress=!0,BOOMR.plugins.SPA.route_change()):(t("Not enabled - we've missed a routeChange"),e.hadMissedRouteChange=!0,e.routeChangeInProgress=!1)}BOOMR.plugins.History||void 0===BOOMR.plugins.SPA||void 0===BOOMR.plugins.AutoXHR||BOOMR.window&&BOOMR.window.history&&(BOOMR.plugins.SPA.register("History"),BOOMR.plugins.History={is_complete:function(){return!0},hook:function(r,i,o){return e.hooked?this:(function(r){r||(r=BOOMR.window.history);var i={listen:r.listen,transitionTo:r.transitionTo,pushState:r.pushState,setState:r.setState,replaceState:r.replaceState,go:r.go};function o(t,n){e.routeChangeInProgress||(t&&n?BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),n]):t&&!n&&BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),t]))}return r.setState=function(){t("setState"),n(),i.setState.apply(this,arguments)},r.listen=function(){t("listen"),n(),i.listen.apply(this,arguments)},r.transitionTo=function(){t("transitionTo"),n(),i.transitionTo.apply(this,arguments)},r.pushState=function(e,r,a){t("pushState"),o(r,a),n(),i.pushState.apply(this,arguments)},r.replaceState=function(e,r,a){t("replaceState"),o(r,a),n(),i.replaceState.apply(this,arguments)},r.go=function(){t("go"),n(),i.go.apply(this,arguments)},BOOMR.window.addEventListener("hashchange",function(r){t("hashchange"),!e.routeChangeInProgress&&r&&BOOMR.fireEvent("spa_init",[BOOMR.plugins.SPA.current_spa_nav(),r.newURL]),n()}),BOOMR.window.addEventListener("load",function(){t("load"),n()}),BOOMR.subscribe("onbeacon",function(){t("Beacon sending, resetting routeChangeInProgress."),e.routeChangeInProgress=!1}),!0}(r)&&(BOOMR.plugins.SPA.hook(i,o),e.hooked=!0),this)},init:function(t){BOOMR.utils.pluginConfig(e,t,"History",["auto","enabled"]),e.auto&&e.enabled&&this.hook(void 0,!0,{})},disable:function(){return e.enabled=!1,this},enable:function(){return e.enabled=!0,e.hooked&&e.hadMissedRouteChange&&(e.hadMissedRouteChange=!1,BOOMR.plugins.SPA.route_change(),e.routeChangeInProgress=!0,t("Hooked and hadMissedRouteChange sending route_change!")),this}})}(),r=window,BOOMR.plugins.RT||(o={onloadfired:!1,unloadfired:!1,visiblefired:!1,initialized:!1,complete:!1,autorun:!0,timers:{},cookie:"RT",cookie_exp:604800,strict_referrer:!0,navigationType:0,navigationStart:void 0,responseStart:void 0,t_start:void 0,cached_t_start:void 0,cached_xhr_start:void 0,t_fb_approx:void 0,r:void 0,r2:void 0,basic_timers:{t_done:1,t_resp:1,t_page:1},addedVars:[],updateCookie:function(e,t){var n,r,i,a;if(!this.cookie)return!1;if(i=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{},"object"==typeof e)for(a in e)e.hasOwnProperty(a)&&(void 0===e[a]?i.hasOwnProperty(a)&&delete i[a]:("nu"!==a&&"r"!==a||(e[a]=BOOMR.utils.hashQueryString(e[a],!0)),i[a]=e[a]));return r=BOOMR.now(),t&&(i[t]=r,o.lastActionTime=r),BOOMR.debug("Setting cookie (timer="+t+")\n"+BOOMR.utils.objectToString(i),"rt"),BOOMR.utils.setCookie(this.cookie,i,this.cookie_exp)?((n=BOOMR.now())-r>50&&(BOOMR.utils.removeCookie(this.cookie),BOOMR.error("took more than 50ms to set cookie... aborting: "+r+" -> "+n,"rt")),!0):(BOOMR.error("cannot set start cookie","rt"),!1)},initFromCookie:function(){var e,t;(t=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie)))&&(t.s=Math.max(+t.ld||0,Math.max(+t.ul||0,+t.cl||0)),BOOMR.debug("Read from cookie "+BOOMR.utils.objectToString(t),"rt"),t.s&&(t.r||t.nu)&&(this.r=t.r,e=BOOMR.utils.hashQueryString(i.URL,!0),BOOMR.debug(this.r+" =?= "+this.r2,"rt"),BOOMR.debug(t.s+" <? "+(+t.cl+15),"rt"),BOOMR.debug(t.nu+" =?= "+e,"rt"),!this.strict_referrer||t.nu&&t.nu===e&&t.s<+t.cl+15||t.s===+t.ul&&this.r===this.r2?(this.t_start=t.s,+t.hd>t.s&&(this.t_fb_approx=parseInt(t.hd,10))):this.t_start=this.t_fb_approx=void 0),this.updateCookie({s:void 0,r:void 0,nu:void 0,ul:void 0,cl:void 0,hd:void 0,ld:void 0,rl:void 0}))},getBoomerangTimings:function(){var e,t,n,r,i;function a(e,t){var n=Math.round(e||0),r=Math.round(t||0);return(n=0===n?0:n-r)||""}BOOMR.t_start&&(BOOMR.plugins.RT.startTimer("boomerang",BOOMR.t_start),BOOMR.plugins.RT.endTimer("boomerang",BOOMR.t_end),BOOMR.plugins.RT.endTimer("boomr_fb",BOOMR.t_start),BOOMR.t_lstart&&(BOOMR.plugins.RT.endTimer("boomr_ld",BOOMR.t_lstart),BOOMR.plugins.RT.setTimer("boomr_lat",BOOMR.t_start-BOOMR.t_lstart)));try{if(window&&"performance"in window&&window.performance&&"function"==typeof window.performance.getEntriesByName)for(n in t={"rt.bmr":BOOMR.url})if(t.hasOwnProperty(n)&&t[n]){if(!(e=window.performance.getEntriesByName(t[n]))||0===e.length||!e[0])continue;i=[r=a((e=e[0]).startTime,0),a(e.responseEnd,r),a(e.responseStart,r),a(e.requestStart,r),a(e.connectEnd,r),a(e.secureConnectionStart,r),a(e.connectStart,r),a(e.domainLookupEnd,r),a(e.domainLookupStart,r),a(e.redirectEnd,r),a(e.redirectStart,r)].join(",").replace(/,+$/,""),BOOMR.addVar(n,i),o.addedVars.push(n)}}catch(e){BOOMR.addError(e,"rt.getBoomerangTimings")}},checkPreRender:function(){return"prerender"===BOOMR.visibilityState()&&(BOOMR.plugins.RT.startTimer("t_load",this.navigationStart),BOOMR.plugins.RT.endTimer("t_load"),BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart),BOOMR.plugins.RT.startTimer("t_postrender"),!0)},initFromNavTiming:function(){var e,t,n;this.navigationStart||((t=BOOMR.getPerformance())&&t.navigation&&(this.navigationType=t.navigation.type),t&&t.timing?e=t.timing:r.chrome&&r.chrome.csi&&r.chrome.csi().startE?(e={navigationStart:r.chrome.csi().startE},n="csi"):r.gtbExternal&&r.gtbExternal.startE()&&(e={navigationStart:r.gtbExternal.startE()},n="gtb"),e?(BOOMR.addVar("rt.start",n||"navigation"),this.navigationStart=e.navigationStart||e.fetchStart||void 0,this.responseStart=e.responseStart||void 0,navigator.userAgent.match(/Firefox\/[78]\./)&&(this.navigationStart=e.unloadEventStart||e.fetchStart||void 0)):BOOMR.warn("This browser doesn't support the WebTiming API","rt"))},validateLoadTimestamp:function(e,t,n){var r;if(t&&t.timing&&t.timing.loadEventEnd)return t.timing.loadEventEnd;if(!("xhr"!==n||t&&BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)))return e;if(BOOMR.loadedLate){if(!(r=BOOMR.getPerformance())||!r.timing)return BOOMR.t_onload||BOOMR.t_lstart||BOOMR.t_start||e;if(r.timing.loadEventStart&&r.timing.loadEventStart<BOOMR.t_end)return r.timing.loadEventStart}return e},setPageLoadTimers:function(e,t,n){var r,i;if("xhr"!==e&&(o.initFromCookie(),o.initFromNavTiming(),o.checkPreRender()))return!1;if("xhr"===e)if(n.timers)for(var a in n.timers)n.timers.hasOwnProperty(a)&&BOOMR.plugins.RT.setTimer(a,n.timers[a]);else n&&n.timing&&(void 0===(i=n.timing.fetchStart)||n.timing.responseEnd>=i)&&(r=n.timing.responseEnd);else o.responseStart?o.responseStart>=o.cached_t_start&&(r=o.responseStart):o.timers.hasOwnProperty("t_page")?BOOMR.plugins.RT.endTimer("t_page"):o.t_fb_approx&&(r=o.t_fb_approx);return r&&(i?BOOMR.plugins.RT.setTimer("t_resp",i,r):BOOMR.plugins.RT.endTimer("t_resp",r),"load"===e&&o.timers.t_load?BOOMR.plugins.RT.setTimer("t_page",o.timers.t_load.end-r):t<r?BOOMR.addVar("t_page.inv",1):BOOMR.plugins.RT.setTimer("t_page",t-r)),"load"===e&&o.timers.hasOwnProperty("t_postrender")&&(BOOMR.plugins.RT.endTimer("t_postrender"),BOOMR.plugins.RT.endTimer("t_prerender")),!0},setSupportingTimestamps:function(e){e&&BOOMR.addVar("rt.tstart",e),"number"==typeof o.navigationStart&&o.navigationStart!==e&&BOOMR.addVar("rt.nstart",o.navigationStart),"number"==typeof o.t_start&&o.t_start!==e&&BOOMR.addVar("rt.cstart",o.t_start),BOOMR.addVar("rt.bstart",BOOMR.t_start),BOOMR.t_lstart&&BOOMR.addVar("rt.blstart",BOOMR.t_lstart),BOOMR.addVar("rt.end",o.timers.t_done.end)},determineTStart:function(e,t){var n;return"xhr"===e?(t&&t.name&&o.timers[t.name]?n=o.timers[t.name].start:t&&t.timing&&t.timing.requestStart&&(n=t.timing.requestStart),void 0===n&&t&&BOOMR.utils.inArray(t.initiator,BOOMR.constants.BEACON_TYPE_SPAS)?BOOMR.addVar("rt.start","none"):BOOMR.addVar("rt.start","manual"),o.cached_xhr_start=n):(o.navigationStart?n=o.navigationStart:o.t_start&&2!==o.navigationType?(n=o.t_start,BOOMR.addVar("rt.start","cookie")):o.cached_t_start?n=o.cached_t_start:(BOOMR.addVar("rt.start","none"),n=void 0),o.cached_t_start=n),BOOMR.debug("Got start time: "+n,"rt"),n},page_ready:function(){this.onloadfired=!0},check_visibility:function(){"visible"===BOOMR.visibilityState()&&(o.visiblefired=!0)},prerenderToVisible:function(){o.onloadfired&&o.autorun&&(BOOMR.debug("Transitioned from prerender to "+BOOMR.visibilityState(),"rt"),BOOMR.addVar("vis.pre","1"),BOOMR.plugins.RT.done(null,"visible"))},page_unload:function(e){BOOMR.debug("Unload called when unloadfired = "+this.unloadfired,"rt"),this.unloadfired||BOOMR.plugins.RT.done(e,"unload"),this.updateCookie({r:i.URL},"beforeunload"===e.type?"ul":"hd"),this.unloadfired=!0},_iterable_click:function(e,t,n,r){var i;if(n){for(BOOMR.debug(e+" called with "+n.nodeName,"rt");n&&n.nodeName.toUpperCase()!==t;)n=n.parentNode;n&&n.nodeName.toUpperCase()===t&&(BOOMR.debug("passing through","rt"),i=r(n),this.updateCookie({nu:i},"cl"),BOOMR.addVar("nu",BOOMR.utils.cleanupURL(i)),o.addedVars.push("nu"))}},onclick:function(e){o._iterable_click("Click","A",e,function(e){return e.href})},onerror:function(){this.onloadfired&&(o.complete=!0)},onsubmit:function(e){o._iterable_click("Submit","FORM",e,function(e){var t=e.getAttribute("action")||i.URL||"";return t.match(/\?/)?t:t+"?"})},onconfig:function(e){e.beacon_url&&(o.beacon_url=e.beacon_url),e.RT&&(e.RT.oboError&&!isNaN(e.RT.oboError)&&e.RT.oboError>o.oboError&&(o.oboError=e.RT.oboError),e.RT.loadTime&&!isNaN(e.RT.loadTime)&&e.RT.loadTime>o.loadTime&&(o.loadTime=e.RT.loadTime,isNaN(o.timers.t_done.delta)||(o.loadTime+=o.timers.t_done.delta)))},domloaded:function(){BOOMR.plugins.RT.endTimer("t_domloaded")},clear:function(){BOOMR.removeVar("rt.start"),o.addedVars&&o.addedVars.length>0&&(BOOMR.removeVar(o.addedVars),o.addedVars=[])},spaNavigation:function(){o.onloadfired=!0}},BOOMR.plugins.RT={init:function(e){if(BOOMR.debug("init RT","rt"),r!==BOOMR.window&&(r=BOOMR.window),r&&r.document)return i=r.document,BOOMR.utils.pluginConfig(o,e,"RT",["cookie","cookie_exp","session_exp","strict_referrer"]),e&&void 0!==e.autorun&&(o.autorun=e.autorun),void 0!==i&&(o.r=o.r2=BOOMR.utils.hashQueryString(i.referrer,!0)),o.initFromCookie(),o.initialized?this:(o.complete=!1,o.timers={},o.check_visibility(),BOOMR.subscribe("page_ready",o.page_ready,null,o),BOOMR.subscribe("visibility_changed",o.check_visibility,null,o),BOOMR.subscribe("prerender_to_visible",o.prerenderToVisible,null,o),BOOMR.subscribe("page_ready",this.done,"load",this),BOOMR.subscribe("xhr_load",this.done,"xhr",this),BOOMR.subscribe("dom_loaded",o.domloaded,null,o),BOOMR.subscribe("page_unload",o.page_unload,null,o),BOOMR.subscribe("click",o.onclick,null,o),BOOMR.subscribe("form_submit",o.onsubmit,null,o),BOOMR.subscribe("before_beacon",this.addTimersToBeacon,"beacon",this),BOOMR.subscribe("onbeacon",o.clear,null,o),BOOMR.subscribe("onerror",o.onerror,null,o),BOOMR.subscribe("onconfig",o.onconfig,null,o),BOOMR.subscribe("spa_navigation",o.spaNavigation,null,o),BOOMR.getBeaconURL=function(){return o.beacon_url},o.initialized=!0,this)},startTimer:function(e,t){return e&&("t_page"===e&&this.endTimer("t_resp",t),o.timers[e]={start:"number"==typeof t?t:BOOMR.now()}),this},endTimer:function(e,t){return e&&(o.timers[e]=o.timers[e]||{},void 0===o.timers[e].end&&(o.timers[e].end="number"==typeof t?t:BOOMR.now())),this},clearTimer:function(e){return e&&delete o.timers[e],this},setTimer:function(e,t,n){return e&&(o.timers[e]=void 0!==n?{start:t,end:n,delta:n-t}:{delta:t}),this},addTimersToBeacon:function(e,t){var n,r,i=[];for(n in o.timers)if(o.timers.hasOwnProperty(n)){if("number"!=typeof(r=o.timers[n]).delta&&("number"!=typeof r.start&&(r.start="xhr"===t?o.cached_xhr_start:o.cached_t_start),r.delta=r.end-r.start),isNaN(r.delta))continue;o.basic_timers.hasOwnProperty(n)?(BOOMR.addVar(n,r.delta),o.addedVars.push(n)):i.push(n+"|"+r.delta)}i.length&&(BOOMR.addVar("t_other",i.join(",")),o.addedVars.push("t_other")),"beacon"===t&&(o.timers={},o.complete=!1)},done:function(e,t){BOOMR.debug("Called done: "+t,"rt");var n,r,i=BOOMR.now(),a=!1;return o.complete=!1,r=o.validateLoadTimestamp(i,e,t),"load"!==t&&"visible"!==t&&"xhr"!==t||o.setPageLoadTimers(t,r,e)?(("load"===t||"visible"===t||"xhr"===t&&e&&"spa_hard"===e.initiator)&&o.getBoomerangTimings(),n=o.determineTStart(t,e),this.endTimer("t_done",r),e&&"xhr"===e.initiator&&this.setTimer("t_done",e.timing.requestStart,e.timing.loadEventEnd),BOOMR.removeVar("t_done","t_page","t_resp","t_postrender","t_prerender","t_load","t_other","rt.tstart","rt.nstart","rt.cstart","rt.bstart","rt.end","rt.subres","rt.abld","http.errno","http.method","xhr.sync"),o.setSupportingTimestamps(n),this.addTimersToBeacon(null,t),BOOMR.setReferrer(o.r,o.r2),"xhr"===t&&e&&e&&e.data&&(e=e.data),"xhr"===t&&e&&(a=e.subresource,e.url&&(BOOMR.addVar("u",BOOMR.utils.cleanupURL(e.url.replace(/#.*/,""))),o.addedVars.push("u")),e.status&&(e.status<-1||e.status>=400)&&BOOMR.addVar("http.errno",e.status),e.method&&"GET"!==e.method&&BOOMR.addVar("http.method",e.method),e.headers&&BOOMR.addVar("http.hdr",e.headers),e.synchronous&&BOOMR.addVar("xhr.sync",1),e.initiator&&BOOMR.addVar("http.initiator",e.initiator),o.addedVars.push("http.errno","http.method","http.hdr","xhr.sync","http.initiator")),a&&"passive"!==a&&(BOOMR.addVar("rt.subres",1),o.addedVars.push("rt.subres")),o.updateCookie(),"unload"===t&&(BOOMR.addVar("rt.quit",""),o.onloadfired||BOOMR.addVar("rt.abld",""),o.visiblefired||BOOMR.addVar("rt.ntvu","")),o.complete=!0,BOOMR.sendBeacon(o.beacon_url),this):this},is_complete:function(){return o.complete},updateCookie:function(){o.updateCookie()},navigationStart:function(){return o.navigationStart||o.initFromNavTiming(),o.navigationStart}}),function(){if(!BOOMR.plugins.NavigationTiming){var e={complete:!1,sendBeacon:function(){this.complete=!0,BOOMR.sendBeacon()},xhr_done:function(t){var n;if(t&&"spa_hard"===t.initiator)e.done(t);else if(t&&"spa"===t.initiator)e.sendBeacon();else{BOOMR.window;var r,i,o={};if(t){if(t.data&&(t=t.data),(n=BOOMR.getPerformance())&&t.restiming)for(i in o={nt_red_st:t.restiming.redirectStart,nt_red_end:t.restiming.redirectEnd,nt_fet_st:t.restiming.fetchStart,nt_dns_st:t.restiming.domainLookupStart,nt_dns_end:t.restiming.domainLookupEnd,nt_con_st:t.restiming.connectStart,nt_con_end:t.restiming.connectEnd,nt_req_st:t.restiming.requestStart,nt_res_st:t.restiming.responseStart,nt_res_end:t.restiming.responseEnd},t.restiming.secureConnectionStart&&(o.nt_ssl_st=t.restiming.secureConnectionStart),o)o.hasOwnProperty(i)&&o[i]&&(o[i]+=n.timing.navigationStart,o[i]=Math.floor(o[i]));for(i in t.timing&&(r=t.timing,o.nt_req_st||(o.nt_req_st=r.requestStart),o.nt_res_st||(o.nt_res_st=r.responseStart),o.nt_res_end||(o.nt_res_end=r.responseEnd),o.nt_domint=r.domInteractive,o.nt_domcomp=r.domComplete,o.nt_load_st=r.loadEventEnd,o.nt_load_end=r.loadEventEnd),o)o.hasOwnProperty(i)&&!o[i]&&delete o[i];BOOMR.addVar(o);try{e.addedVars.push.apply(e.addedVars,Object.keys(o))}catch(e){}e.sendBeacon()}}},done:function(){var t,n,r,i,o=BOOMR.window;if(this.complete)return this;if(e.addedVars=[],(t=BOOMR.getPerformance())&&t.timing&&t.navigation){BOOMR.info("This user agent supports NavigationTiming.","nt"),n=t.navigation,r=t.timing,i={nt_red_cnt:n.redirectCount,nt_nav_type:n.type,nt_nav_st:r.navigationStart,nt_red_st:r.redirectStart,nt_red_end:r.redirectEnd,nt_fet_st:r.fetchStart,nt_dns_st:r.domainLookupStart,nt_dns_end:r.domainLookupEnd,nt_con_st:r.connectStart,nt_con_end:r.connectEnd,nt_req_st:r.requestStart,nt_res_st:r.responseStart,nt_res_end:r.responseEnd,nt_domloading:r.domLoading,nt_domint:r.domInteractive,nt_domcontloaded_st:r.domContentLoadedEventStart,nt_domcontloaded_end:r.domContentLoadedEventEnd,nt_domcomp:r.domComplete,nt_load_st:r.loadEventStart,nt_load_end:r.loadEventEnd,nt_unload_st:r.unloadEventStart,nt_unload_end:r.unloadEventEnd},r.secureConnectionStart&&(i.nt_ssl_st=r.secureConnectionStart),r.msFirstPaint&&(i.nt_first_paint=r.msFirstPaint),BOOMR.addVar(i),(r.requestStart&&r.navigationStart&&r.requestStart<r.navigationStart||r.responseStart&&r.navigationStart&&r.responseStart<r.navigationStart||r.responseStart&&r.fetchStart&&r.responseStart<r.fetchStart||r.navigationStart&&r.fetchStart<r.navigationStart||r.responseEnd&&r.responseEnd>BOOMR.now()+864e5)&&(BOOMR.addVar("nt_bad",1),e.addedVars.push("nt_bad"));try{e.addedVars.push.apply(e.addedVars,Object.keys(i))}catch(e){}}if(o.chrome&&o.chrome.loadTimes&&(r=o.chrome.loadTimes())){i={nt_spdy:r.wasFetchedViaSpdy?1:0,nt_cinf:r.connectionInfo,nt_first_paint:r.firstPaintTime},BOOMR.addVar(i);try{e.addedVars.push.apply(e.addedVars,Object.keys(i))}catch(e){}}e.sendBeacon()},clear:function(){e.addedVars&&e.addedVars.length>0&&(BOOMR.removeVar(e.addedVars),e.addedVars=[]),this.complete=!1},prerenderToVisible:function(){this.complete=!1,this.done()}};BOOMR.plugins.NavigationTiming={init:function(){return e.initialized||(BOOMR.subscribe("page_ready",e.done,null,e),BOOMR.subscribe("prerender_to_visible",e.prerenderToVisible,null,e),BOOMR.subscribe("xhr_load",e.xhr_done,null,e),BOOMR.subscribe("before_unload",e.done,null,e),BOOMR.subscribe("onbeacon",e.clear,null,e),e.initialized=!0),this},is_complete:function(){return!0}}}}(),function(){var e;if(!BOOMR.plugins.ResourceTiming){var t={other:0,img:1,link:2,script:3,css:4,xmlhttprequest:5,html:6,image:7,beacon:8,fetch:9},n="\n",r="*",i="0",o="1",a="2",s=1,d=2,u=4;e={complete:!1,sentNavBeacon:!1,initialized:!1,supported:!1,xhr_load:function(){this.complete||(this.complete=!0,BOOMR.sendBeacon())},xssBreakWords:[/(h)(ref)/gi,/(s)(rc)/gi,/(a)(ction)/gi],urlLimit:500,clearOnBeacon:!1,trimUrls:[],trackedResourceTypes:"*",done:function(){this.sentNavBeacon||(B(),this.complete=!0,this.sentNavBeacon=!0,BOOMR.sendBeacon())},onBeacon:function(t){var n=BOOMR.getPerformance();if(t.hasOwnProperty("restiming")&&BOOMR.removeVar("restiming"),e.clearOnBeacon&&n){var r=n.clearResourceTimings||n.webkitClearResourceTimings;r&&"function"==typeof r&&r.call(n)}},prerenderToVisible:function(){this.sentNavBeacon=!1,this.done()}},BOOMR.plugins.ResourceTiming={init:function(t){var n=BOOMR.getPerformance();return BOOMR.utils.pluginConfig(e,t,"ResourceTiming",["xssBreakWords","clearOnBeacon","urlLimit","trimUrls","trackedResourceTypes"]),e.initialized?this:(n&&"function"==typeof n.getEntriesByType?(BOOMR.subscribe("page_ready",e.done,null,e),BOOMR.subscribe("prerender_to_visible",e.prerenderToVisible,null,e),BOOMR.subscribe("xhr_load",e.xhr_load,null,e),BOOMR.subscribe("onbeacon",e.onBeacon,null,e),BOOMR.subscribe("before_unload",e.done,null,e),e.supported=!0):e.complete=!0,e.initialized=!0,this)},is_complete:function(){return!0},is_supported:function(){return e.initialized&&e.supported},getCompressedResourceTiming:R,getFilteredResourceTiming:g,calculateResourceTimingUnion:function(e){var t;if(!e||!e.length)return 0;e.sort(function(e,t){return e.fetchStart!==t.fetchStart?e.fetchStart-t.fetchStart:(e.responseStart||e.responseEnd)-(t.responseStart||t.responseEnd)});var n=v(e),r=[],i=0;for(t=0;t<n.length;t++){var o=n[t];o.fetchStart<i&&(o.fetchStart=i),o.fetchStart<o.responseEnd&&(r.push(o),i=o.responseEnd)}var a=v(r),s=0;for(t=0;t<a.length;t++)s+=a[t].responseEnd-a[t].fetchStart;return s},addResourceTimingToBeacon:B}}function c(e,t){"number"!=typeof e&&(e=0),"number"!=typeof t&&(t=0);var n=Math.round(e||0),r=Math.round(t||0);return 0===n?0:n-r}function l(e){try{if(e.location&&e.location.href,e.document,"performance"in e&&e.performance)return!0}catch(e){}return!1}function O(e){var t=0;return l(e)&&e.performance.timing&&e.performance.timing.navigationStart&&(t=e.performance.timing.navigationStart),t}function p(e,t,n,r,i){var o,a,c,f,g,h,R,v,B,_,M,b=[],y={};if(void 0===t&&(t=!0),void 0===n&&(n=0),void 0===r&&(r=0),r>10)return b;try{if(!l(e))return b;if(c=O(e),_=function(e,t){var n,r,i={},o=e.document,a=o.createElement("A");return n=(t=t||[0,0,0,0])[3]+(void 0!==e.pageXOffset)?e.pageXOffset:(o.documentElement||o.body.parentNode||o.body).scrollLeft,r=t[2]+(void 0!==e.pageYOffset)?e.pageYOffset:(o.documentElement||o.body.parentNode||o.body).scrollTop,["img","iframe","image"].forEach(function(e){var t,s,d,u,c=o.getElementsByTagName(e);for(s=0;s<c.length;s++)(t=c[s])&&(u=t.src||t.getAttribute("src")||t.getAttribute("xlink:href"),a.href=u,(u=a.href)&&!i[u]&&((d=t.getBoundingClientRect()).height||t.offsetHeight)&&(d.width||t.offsetWidth)&&(i[u]=[d.height||t.offsetHeight,d.width||t.offsetWidth,Math.round(d.top+r),Math.round(d.left+n)],!t.naturalHeight&&!t.naturalWidth||i[u][0]===t.naturalHeight&&i[u][1]===t.naturalWidth||i[u].push(t.naturalHeight,t.naturalWidth)))}),i}(e,i),M=e.document.createElement("a"),Array.prototype.forEach.call(e.document.getElementsByTagName("script"),function(e){M.href=e.src,M.href.match(/^https?:\/\//)&&(y[M.href]=e)}),(h=e.document.getElementsByTagName("iframe"))&&h.length)for(o=0;o<h.length;o++)g=0,(f=O(h[o].contentWindow))>c&&(g=n+(f-c)),M.href=h[o].src,b=b.concat(p(e.frames[o],!1,g,r+1,_[M.href]));if("function"!=typeof e.performance.getEntriesByType)return b;t&&((a=e.performance.getEntriesByType("navigation"))&&1===a.length?(R=a[0],b.push({name:e.location.href,startTime:0,initiatorType:"html",redirectStart:R.redirectStart,redirectEnd:R.redirectEnd,fetchStart:R.fetchStart,domainLookupStart:R.domainLookupStart,domainLookupEnd:R.domainLookupEnd,connectStart:R.connectStart,secureConnectionStart:R.secureConnectionStart,connectEnd:R.connectEnd,requestStart:R.requestStart,responseStart:R.responseStart,responseEnd:R.responseEnd,workerStart:R.workerStart,encodedBodySize:R.encodedBodySize,decodedBodySize:R.decodedBodySize,transferSize:R.transferSize})):e.performance.timing&&0!==(v=e.performance.timing).navigationStart&&v.responseEnd<=v.navigationStart+36e5&&b.push({name:e.location.href,startTime:0,initiatorType:"html",redirectStart:v.redirectStart?v.redirectStart-v.navigationStart:0,redirectEnd:v.redirectEnd?v.redirectEnd-v.navigationStart:0,fetchStart:v.fetchStart?v.fetchStart-v.navigationStart:0,domainLookupStart:v.domainLookupStart?v.domainLookupStart-v.navigationStart:0,domainLookupEnd:v.domainLookupEnd?v.domainLookupEnd-v.navigationStart:0,connectStart:v.connectStart?v.connectStart-v.navigationStart:0,secureConnectionStart:v.secureConnectionStart?v.secureConnectionStart-v.navigationStart:0,connectEnd:v.connectEnd?v.connectEnd-v.navigationStart:0,requestStart:v.requestStart?v.requestStart-v.navigationStart:0,responseStart:v.responseStart?v.responseStart-v.navigationStart:0,responseEnd:v.responseEnd?v.responseEnd-v.navigationStart:0}));var S=e.performance.getEntriesByType("resource"),E=[];for(o=0;S&&o<S.length;o++){if(B={name:(v=S[o]).name,initiatorType:v.initiatorType,startTime:v.startTime+n,redirectStart:v.redirectStart?v.redirectStart+n:0,redirectEnd:v.redirectEnd?v.redirectEnd+n:0,fetchStart:v.fetchStart?v.fetchStart+n:0,domainLookupStart:v.domainLookupStart?v.domainLookupStart+n:0,domainLookupEnd:v.domainLookupEnd?v.domainLookupEnd+n:0,connectStart:v.connectStart?v.connectStart+n:0,secureConnectionStart:v.secureConnectionStart?v.secureConnectionStart+n:0,connectEnd:v.connectEnd?v.connectEnd+n:0,requestStart:v.requestStart?v.requestStart+n:0,responseStart:v.responseStart?v.responseStart+n:0,responseEnd:v.responseEnd?v.responseEnd+n:0,workerStart:v.workerStart?v.workerStart+n:0,encodedBodySize:v.encodedBodySize,decodedBodySize:v.decodedBodySize,transferSize:v.transferSize,visibleDimensions:_[v.name],latestTime:m(v)},"script"===v.initiatorType&&y[v.name]){var w=y[v.name];for(B.scriptAttrs=(w.async?s:0)|(w.defer?d:0);1===w.nodeType&&"BODY"!==w.nodeName;)w=w.parentNode;B.scriptAttrs|="BODY"===w.nodeName?u:0}E.push(B)}b=b.concat(E)}catch(e){return b}return b}function f(e){return"number"==typeof e&&0!==e?e.toString(36):"string"==typeof e?e:""}function g(e,t,n){var r,i,o=p(BOOMR.window,!0,0,0),a=O(BOOMR.window);if(!o||!o.length)return[];o.sort(function(e,t){return e.startTime-t.startTime});var s=[];for(r=0;r<o.length;r++)if(0!==(i=o[r]).name.indexOf("about:")&&0!==i.name.indexOf("javascript:")&&0!==i.name.indexOf("res:")&&!(i.name.indexOf(BOOMR.url)>-1||i.name.indexOf(BOOMR.config_url)>-1||"function"==typeof BOOMR.getBeaconURL&&BOOMR.getBeaconURL()&&i.name.indexOf(BOOMR.getBeaconURL())>-1||e&&a+i.startTime<e)){if(t&&a+i.startTime>t)break;(void 0===n||"*"===n||!n.length||i.initiatorType&&BOOMR.utils.inArray(i.initiatorType,n))&&s.push(i)}return s}function h(t,n){var r,i,o;if(t&&n)for(r=0;r<n.length;r++)if("string"==typeof(o=n[r])){if(-1!==(i=t.indexOf(o))){t=t.substr(0,i+o.length)+"...";break}}else o instanceof RegExp&&o.test(t)&&(t=t.replace(o,"$1")+"...");return BOOMR.utils.cleanupURL(t,e.urlLimit)}function m(e){return e.responseEnd?e.responseEnd:e.responseStart&&e.startTime?e.responseStart+.2*(e.responseStart-e.startTime):1/0}function R(s,d){var u,l,O,p,m,R,v,B,_,M=g(s,d,e.trackedResourceTypes),b={},y={};if(!M||!M.length)return{};for(u=0;u<M.length;u++){l=M[u],void 0===(O=t[l.initiatorType])&&(O=0),m=O+[c(l.startTime,0),c(l.responseEnd,l.startTime),c(l.responseStart,l.startTime),c(l.requestStart,l.startTime),c(l.connectEnd,l.startTime),c(l.secureConnectionStart,l.startTime),c(l.connectStart,l.startTime),c(l.domainLookupEnd,l.startTime),c(l.domainLookupStart,l.startTime),c(l.redirectEnd,l.startTime),c(l.redirectStart,l.startTime)].map(f).join(",").replace(/,+$/,"");var S=(v=void 0,B=void 0,_=void 0,(R=l).encodedBodySize||R.decodedBodySize||R.transferSize?(v=R.transferSize,B=R.encodedBodySize,_=R.decodedBodySize,[B,v?v-B:"_",_?_-B:0].map(f).join(",").replace(/,+$/,"")):"");""!==S&&(m+=r+o+S),l.hasOwnProperty("scriptAttrs")&&(m+=r+a+l.scriptAttrs),void 0!==b[p=h(l.name,e.trimUrls)]?b[p]+="|"+m:l.visibleDimensions?b[p]=r+i+l.visibleDimensions.map(Math.round).map(f).join(",").replace(/,+$/,"")+"|"+m:b[p]=m,l.visibleDimensions&&(y[l.latestTime]||(y[l.latestTime]=[]),y[l.latestTime].push(l.visibleDimensions))}return{restiming:function e(t,r){var i,o,a,s=0,d=[];for(i in t)t.hasOwnProperty(i)&&d.push(i);for(var u=0;u<d.length;u++)"object"==typeof t[i=d[u]]&&(o=e(t[i],!1))&&(delete t[i],i===n?(i=o.name,s++):i+=o.name,t[i]=o.value),s++;return 1===s?r?((a={})[i]=t[i],a):{name:i,value:t[i]}:!!r&&t}(function(t){var r,i,o,a,s,d,u,c,l={};for(r in t){for(i=r,o=0;o<e.xssBreakWords.length;o++)i=i.replace(e.xssBreakWords[o],"$1"+n+"$2");if(t.hasOwnProperty(r))for(a=t[r],s=i.split(""),u=l,o=0;o<s.length;o++)void 0===(c=u[d=s[o]])?u=u[d]=o===s.length-1?a:{}:"string"==typeof c?u=u[d]={"|":c}:o===s.length-1?u[d]["|"]=a:u=u[d]}return l}(b),!0)}}function v(e){var t=[];if(!e||!e.length)return t;for(var n=0;n<e.length;n++){var r=e[n];n!==e.length-1&&r.fetchStart===e[n+1].fetchStart||t.push({fetchStart:r.fetchStart,responseEnd:r.responseStart||r.responseEnd})}return t}function B(e,t){var n;"undefined"!=typeof JSON&&(BOOMR.removeVar("restiming"),(n=R(e,t))&&(BOOMR.info("Client supports Resource Timing API","restiming"),BOOMR.addVar({restiming:JSON.stringify(n.restiming)})))}}(),BOOMR.t_end=(new Date).getTime()}}]);
//# sourceMappingURL=13.7d24ada6f0ac9d99191a.js.map